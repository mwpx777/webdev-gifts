{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mwpx7\\\\Documents\\\\GitHub\\\\webdev-gifts\\\\client\\\\src\\\\components\\\\ProductItem\\\\index.js\",\n    _s = $RefreshSig$();\n\n// PRODUCT ITEM\nimport React from 'react';\nimport { Link } from 'react-router-dom'; // import { pluralize } from '../../utils/helpers';\n\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from '../../utils/actions';\nimport { idbPromise } from '../../utils/helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ProductItem(item) {\n  _s();\n\n  const {\n    image,\n    name,\n    _id,\n    price\n  } = item;\n  const [state, dispatch] = useStoreContext();\n  const {\n    cart\n  } = state;\n\n  const addToCart = () => {\n    const itemInCart = cart.find(cartItem => cartItem._id === _id);\n\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: _id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n      idbPromise('cart', 'put', { ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...item,\n          purchaseQuantity: 1\n        }\n      });\n      idbPromise('cart', 'put', { ...item,\n        purchaseQuantity: 1\n      });\n    }\n  };\n\n  return (\n    /*#__PURE__*/\n    // <div className=\"card px-1 py-1\">\n    //     <Link to={`/products/${_id}`}>\n    //         <img alt={name} src={`/images/${image}`} />\n    //         <p>{name}</p>\n    //     </Link>\n    //     <div>\n    //         <span>${price}</span>\n    //         <button onClick={addToCart}>Add to cart!</button>\n    //     </div>\n    // </div>\n    _jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card px-1 py-1\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${_id}`,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `/images/${image}`,\n              alt: name,\n              id: \"cardImage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cardContainer\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cardTitle\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: addToCart,\n                children: \"Add to cart!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)\n  );\n}\n\n_s(ProductItem, \"qZ9GHftpIX86+oMFVfpp6r+956w=\", false, function () {\n  return [useStoreContext];\n});\n\n_c = ProductItem;\n;\nexport default ProductItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductItem\");","map":{"version":3,"sources":["C:/Users/mwpx7/Documents/GitHub/webdev-gifts/client/src/components/ProductItem/index.js"],"names":["React","Link","useStoreContext","ADD_TO_CART","UPDATE_CART_QUANTITY","idbPromise","ProductItem","item","image","name","_id","price","state","dispatch","cart","addToCart","itemInCart","find","cartItem","type","purchaseQuantity","parseInt","product"],"mappings":";;;AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB,C,CACA;;AACA,SAASC,eAAT,QAAgC,yBAAhC;AACA,SAASC,WAAT,EAAsBC,oBAAtB,QAAkD,qBAAlD;AACA,SAASC,UAAT,QAA2B,qBAA3B;;;AAEA,SAASC,WAAT,CAAqBC,IAArB,EAA2B;AAAA;;AACvB,QAAM;AACFC,IAAAA,KADE;AAEFC,IAAAA,IAFE;AAGFC,IAAAA,GAHE;AAIFC,IAAAA;AAJE,MAKFJ,IALJ;AAOA,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBX,eAAe,EAAzC;AACA,QAAM;AAAEY,IAAAA;AAAF,MAAWF,KAAjB;;AAEA,QAAMG,SAAS,GAAG,MAAM;AACpB,UAAMC,UAAU,GAAGF,IAAI,CAACG,IAAL,CAAWC,QAAD,IAAcA,QAAQ,CAACR,GAAT,KAAiBA,GAAzC,CAAnB;;AACA,QAAIM,UAAJ,EAAgB;AACZH,MAAAA,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAEf,oBADD;AAELM,QAAAA,GAAG,EAAEA,GAFA;AAGLU,QAAAA,gBAAgB,EAAEC,QAAQ,CAACL,UAAU,CAACI,gBAAZ,CAAR,GAAwC;AAHrD,OAAD,CAAR;AAKAf,MAAAA,UAAU,CAAC,MAAD,EAAS,KAAT,EAAgB,EACtB,GAAGW,UADmB;AACPI,QAAAA,gBAAgB,EAAEC,QAAQ,CAACL,UAAU,CAACI,gBAAZ,CAAR,GAAwC;AADnD,OAAhB,CAAV;AAGH,KATD,MASO;AACHP,MAAAA,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAEhB,WADD;AAELmB,QAAAA,OAAO,EAAE,EAAE,GAAGf,IAAL;AAAWa,UAAAA,gBAAgB,EAAE;AAA7B;AAFJ,OAAD,CAAR;AAIAf,MAAAA,UAAU,CAAC,MAAD,EAAS,KAAT,EAAgB,EAAE,GAAGE,IAAL;AAAWa,QAAAA,gBAAgB,EAAE;AAA7B,OAAhB,CAAV;AACH;AACJ,GAlBD;;AAoBA;AAAA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,kCACI,QAAC,IAAD;AAAM,YAAA,EAAE,EAAG,aAAYV,GAAI,EAA3B;AAAA,mCACI;AAAK,cAAA,GAAG,EAAG,WAAUF,KAAM,EAA3B;AAA8B,cAAA,GAAG,EAAEC,IAAnC;AAAyC,cAAA,EAAE,EAAC;AAA5C;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,WAAf;AAAA,sCACI;AAAA,uCAAI;AAAA,4BAAIA;AAAJ;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA,gCAAQE,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAQ,gBAAA,OAAO,EAAEI,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAXJ;AA4BH;;GA3DQT,W;UAQqBJ,e;;;KARrBI,W;AA2DR;AAED,eAAeA,WAAf","sourcesContent":["// PRODUCT ITEM\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n// import { pluralize } from '../../utils/helpers';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from '../../utils/actions';\nimport { idbPromise } from '../../utils/helpers';\n\nfunction ProductItem(item) {\n    const {\n        image,\n        name,\n        _id,\n        price,\n    } = item;\n\n    const [state, dispatch] = useStoreContext();\n    const { cart } = state;\n\n    const addToCart = () => {\n        const itemInCart = cart.find((cartItem) => cartItem._id === _id)\n        if (itemInCart) {\n            dispatch({\n                type: UPDATE_CART_QUANTITY,\n                _id: _id,\n                purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n            });\n            idbPromise('cart', 'put', {\n                ...itemInCart, purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n            });\n        } else {\n            dispatch({\n                type: ADD_TO_CART,\n                product: { ...item, purchaseQuantity: 1 }\n            });\n            idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\n        }\n    }\n\n    return (\n        // <div className=\"card px-1 py-1\">\n        //     <Link to={`/products/${_id}`}>\n        //         <img alt={name} src={`/images/${image}`} />\n        //         <p>{name}</p>\n        //     </Link>\n        //     <div>\n        //         <span>${price}</span>\n        //         <button onClick={addToCart}>Add to cart!</button>\n        //     </div>\n        // </div>\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"card px-1 py-1\">\n                    <Link to={`/products/${_id}`}>\n                        <img src={`/images/${image}`} alt={name} id=\"cardImage\" />\n                    </Link>\n                    <div className=\"cardContainer\">\n                        <div className=\"cardTitle\">\n                            <h4><b>{name}</b></h4>\n                            <span>${price}</span>\n                            <button onClick={addToCart}>Add to cart!</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ProductItem;"]},"metadata":{},"sourceType":"module"}